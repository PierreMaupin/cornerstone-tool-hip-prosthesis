<html>
  <head>
    <title>Quick Test Page</title>

    <style>
      html,
      body {
        background: dodgerblue;
      }
      #cornerstone-element {
        width: 100%;
        height: 100vh;
        margin: 0 auto;
        background: #ccc;
      }
    </style>

    <!-- peerDependencies -->

    <!-- Our Plugin -->
  </head>
  <body>
    <section>
      <div
        id="cornerstone-element"
        data-index="0"
        oncontextmenu="return false"
      ></div>
    </section>
  </body>
  <script src="https://unpkg.com/hammerjs@2.0.8/hammer.js"></script>
  <script src="https://unpkg.com/cornerstone-math@0.1.8/dist/cornerstoneMath.min.js"></script>
  <script src="https://unpkg.com/cornerstone-core@2.3.0/dist/cornerstone.js"></script>
  <script src="https://unpkg.com/cornerstone-web-image-loader@2.1.1/dist/cornerstoneWebImageLoader.min.js"></script>
  <script src="https://unpkg.com/cornerstone-tools@4.12.4/dist/cornerstoneTools.js"></script>
  <script src="../dist/hip-prosthesis-tool.umd.js"></script>
  <script>
    /***
     * Setup
     */
    cornerstoneWebImageLoader.external.cornerstone = cornerstone;
    cornerstone.registerImageLoader(
      "http",
      cornerstoneWebImageLoader.loadImage
    );
    cornerstone.registerImageLoader(
      "https",
      cornerstoneWebImageLoader.loadImage
    );
    /***
     * Boilerplate
     */
    cornerstoneTools.init({
      showSVGCursors: true,
    });
    cornerstoneTools.toolColors.setToolColor("orange");
    // Enable Element
    const element = document.querySelector("#cornerstone-element");
    cornerstone.enable(element);
    // Load and Display Image
    const exampleImageId =
      "https://i.ibb.co/PxC9DHQ/Screenshot-20200309-090021.png";
    cornerstone.loadImage(exampleImageId).then(function(image) {
      cornerstone.displayImage(element, image);

      const WwwcTool = cornerstoneTools.WwwcTool;
      const PanTool = cornerstoneTools.PanTool;
      const EraserTool = cornerstoneTools.EraserTool;
      const ZoomTool = cornerstoneTools.ZoomTool;
      cornerstoneTools.addTool(WwwcTool);
      cornerstoneTools.addTool(PanTool);
      cornerstoneTools.addTool(EraserTool);
      cornerstoneTools.addTool(ZoomTool);

      cornerstoneTools.setToolActive("Pan", { mouseButtonMask: 4 });
      cornerstoneTools.setToolActive("Zoom", { mouseButtonMask: 2 });

      const configuration = {
        sideFace: true,
        sideProfil : false,
        pathTige:'taille1tete28coteGauche.svg',
        pathCotyle:'cotyle.svg',
        pathTigeDroit:'9droit.svg',
        pathCotyleDroit:'cotyledroit.svg',
        colorTool1Actif : 'rgb(255, 0, 0)',
        colorTool1NonActif : 'rgb(181, 0, 0)',
        colorTool2Actif : 'rgb(255, 255, 255)',
        colorTool2NonActif : 'rgb(200, 200, 200)',
        colorTool3Actif : 'rgb(220, 205, 41)',
        colorTool3NonActif : 'rgb(220, 155, 41)',
        colorTool4 : 'rgb(117, 228, 230)',
        colorTool5 : 'rgb(225, 127, 227)',
        prosthesisHeadCenter : {x:162.747, y:45.258},
        prosthesisplusCenter: {x:0, y:0},
        prosthesismoinsCenter: {x:0, y:0},
        prosthesisRotCenter : {x:124, y:84},
        prosthesisSize : {l:210, w:297},
        prosthesisAngle: 0,
        billeSize: 28, 
        lockTige: false, 
        tete: 'centre',   
      }
      cornerstoneTools.addTool(HipProsthesisTool, { configuration });
      cornerstoneTools.setToolActive("HipProsthesis", { mouseButtonMask: 1 });
    });
  </script>
</html>
